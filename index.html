<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Pits - Máximo rendimiento: control de combustible, aceite y neumáticos."
    />
    <title>Pits | Máximo rendimiento</title>
    <link rel="icon" type="image/svg+xml" href="./assets/pits-isotipo.svg" />

    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="pricing.css" />
    <link rel="stylesheet" href="index.css" />
  </head>

  <body>
    <nav>
      <a class="logo" href="#inicio">
        <img src="./assets/pits-imagotipo.svg" alt="PITS Logo" />
      </a>

      <button class="menu-toggle" aria-label="Abrir menú de navegación">
        <svg
          class="hamburger-icon"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M4 6H20M4 12H20M4 18H20"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </button>

      <!-- Reemplaza el <ul class="nav-links"> completo con esto: -->
      <ul class="nav-links">
        <li><a href="#inicio">Inicio</a></li>
        <li><a href="#soluciones">Soluciones</a></li>
        <li><a href="#caracteristicas">Características</a></li>
        <li><a href="#plataforma">Plataforma</a></li>
        <li><a href="#pricing">Planes</a></li>
        <li><a href="#contacto">Contacto</a></li>
        <li>
          <a
            href="https://pits-app.com/login"
            class="nav-btn"
            target="_blank"
            rel="noopener noreferrer"
            >Iniciar Sesión</a
          >
        </li>
        <li>
          <a
            href="https://pits-app.com/register"
            class="nav-btn nav-btn-primary"
            target="_blank"
            rel="noopener noreferrer"
            >Registrarse</a
          >
        </li>
      </ul>
    </nav>

    <main id="main-content">
      <section class="hero-intro full-screen-section" id="inicio">
        <h1>Máximo rendimiento y control operativo</h1>
        <p>
          La plataforma de gestión vehicular diseñada para impulsar la
          productividad y maximizar la rentabilidad de tus vehículos.
        </p>
      </section>

      <section class="hero-visual full-screen-section">
        <div class="hero-bg"></div>
        <div class="hero-logo">
          <img src="./assets/pits-imagotipo.svg" alt="PITS Imagotipo" />
        </div>
      </section>

      <section id="soluciones" class="container">
        <h2 class="section-heading">Soluciones Modulares.</h2>

        <div id="neumaticos" class="solution-block animated-section">
          <div class="solution-text animated-text">
            <h2>Monitoreo de <strong> Consumo de Combustible</strong></h2>
            <p>
              Mida el consumo con precisión milimétrica, detecte desviaciones o
              fraudes al instante. Reduzca significativamente los costes
              operativos identificando eficiencias.
            </p>
            <p>
              Centralice los datos de todas las tarjetas de combustible y
              obtenga análisis comparativos detallados del rendimiento histórico
              por unidad.
            </p>
          </div>
          <div class="solution-media animate-right-img">
            <video
              src="./assets/fuel-video-1.mp4"
              muted
              playsinline
              loop
              preload="metadata"
              class="auto-play-video"
              disablepictureinpicture
            ></video>
          </div>
        </div>

        <div id="neumaticos" class="solution-block animated-section">
          <div class="solution-media animate-left-img">
            <video
              src="./assets/oil-video-2.mp4"
              muted
              playsinline
              loop
              preload="metadata"
              class="auto-play-video"
              disablepictureinpicture
            ></video>
          </div>
          <div class="solution-text animated-text">
            <h2>
              Mantenimiento <strong>Preventivo</strong> y
              <strong>Aceite</strong>
            </h2>
            <p>
              Implemente un sistema de alertas automáticas basado en kilometraje
              o fechas, asegurando que los cambios de aceite, filtros y
              lubricantes nunca se olviden.
            </p>
            <p>
              Prolongue la vida útil de sus motores y evite fallas costosas con
              un historial de servicio completo y programado para cada vehículo.
            </p>
          </div>
        </div>

        <div id="neumaticos" class="solution-block animated-section">
          <div class="solution-text animated-text">
            <h2>Seguimiento Detallado de <strong>Neumáticos</strong></h2>
            <p>
              Monitoree la presión, la profundidad del dibujo y el historial
              completo de rotación y reemplazos.
            </p>
            <p>
              Asigne un ciclo de vida exacto a cada neumático de sus vhículos,
              minimizando los gastos por reemplazos prematuros y maximizando el
              rendimiento del caucho.
            </p>
          </div>
          <div class="solution-media animate-right-img">
            <video
              src="./assets/tire-video-1.mp4"
              muted
              playsinline
              loop
              preload="metadata"
              class="auto-play-video"
              disablepictureinpicture
            ></video>
          </div>
        </div>
      </section>

      <section id="caracteristicas" class="container video-background-section">
        <div class="section-video-wrapper">
          <video
            src="./assets/data-control.mp4"
            muted
            playsinline
            loop
            preload="metadata"
            disablepictureinpicture
            controlslist="nodownload nofullscreen noremoteplayback"
          ></video>
        </div>

        <div class="section-content-overlay">
          <h2 class="section-heading">Tome el control total</h2>
          <p class="section-subheading">
            Gestione cada aspecto de sus vehículos, conductores y gastos desde
            un único panel intuitivo.
          </p>
          <div class="features-grid">
            <div class="feature-card">
              <h3>Análisis de <strong>Datos</strong></h3>
              <p>
                Generación de informes inteligentes en tiempo real para una toma
                de decisiones predictiva y estratégica.
              </p>
            </div>

            <div class="feature-card">
              <h3>Plataforma <strong>Unificada</strong></h3>
              <p>
                Una plataforma robusta e intuitiva que centraliza cada aspecto
                de su gestión. Acceso seguro y sin fricciones desde cualquier
                dispositivo.
              </p>
            </div>

            <div class="feature-card">
              <h3>Control de <strong>Acceso Granular</strong></h3>
              <p>
                Defina roles y asigne permisos. Mantenga su operación segura y
                delegue con precisión milimétrica.
              </p>
            </div>

            <div class="feature-card">
              <h3>Gestión Modular de <strong>Activos</strong></h3>
              <p>
                Configure flotas. Asigne vehículos, integre conductores y
                supervise con flexibilidad. Su operación, a su medida.
              </p>
            </div>
          </div>
        </div>
      </section>

      <section id="reportes" class="animated-section full-screen-section">
        <div class="animated-content container">
          <div class="animated-media">
            <img
              src="./assets/pdf-report-2.png"
              alt="Icono de reporte PDF"
              class="animate-left-img"
            />
          </div>

          <div class="animated-text">
            <h2>Exportación Inteligente de <strong>Reportes</strong></h2>
            <p>
              Centralice la información de sus vehículos y genere reportes
              detallados con un solo clic. Nuestro sistema permite la
              exportación inmediata de todos sus datos de gestión a formatos PDF
              y Hoja de Cálculo, facilitando el análisis, la presentación y el
              cumplimiento normativo.
            </p>
            <p>
              Personalice los períodos y las variables para obtener la vista que
              su operación necesita.
            </p>
          </div>
        </div>
      </section>

      <section id="plataforma" class="animated-section full-screen-section">
        <div class="animated-content container">
          <div class="animated-text">
            <h2>Gestión <strong>Web</strong> sin Límites</h2>
            <p>
              Acceda a la potencia completa de Pits desde cualquier navegador de
              escritorio. La plataforma web está diseñada para tareas de
              administración, análisis de datos profundos y gestión de usuarios,
              ofreciendo una experiencia robusta e intuitiva para el control
              total de su operación.
            </p>
          </div>
          <div class="animated-media">
            <img
              src="./assets/laptop-no-bg-1.png"
              alt="Plataforma PITS en laptop"
              class="animate-right-img"
            />
          </div>
        </div>
      </section>

      <section id="movil" class="animated-section full-screen-section">
        <div class="animated-content container">
          <div class="animated-media">
            <img
              src="./assets/phone-no-bg.png"
              alt="Plataforma PITS en teléfono móvil"
              class="animate-left-img"
            />
          </div>
          <div class="animated-text">
            <h2>Movilidad y Control al <strong>Instante</strong></h2>
            <p>
              Lleve el poder de Pits en su bolsillo. Nuestra aplicación móvil
              está disponible en Play Store y App Store, permitiendo a sus
              conductores y personal de campo registrar datos, verificar tareas
              y recibir notificaciones en tiempo real.
            </p>
            <p>
              La interfaz optimizada para móviles asegura que la captura de
              datos sea rápida y precisa.
            </p>
          </div>
        </div>
      </section>

      <section id="pricing" class="pricing-section">
        <div class="container">
          <h2 class="section-heading">Planes y Precios</h2>
          <p class="section-subheading">
            Adaptados a tus necesidades y presupuesto.
          </p>

          <div class="pricing-grid">
            <!-- FREE -->
            <div class="pricing-card">
              <h3 class="plan-name free">Free</h3>
              <p class="plan-price">$0.00</p>
              <ul class="plan-features">
                <li>Hasta 1 usuario</li>
                <li>Hasta 2 vehículos</li>
                <li>Hasta 1 flotas</li>
                <li>Consumo de combustible</li>
                <li>Mantenimiento preventivo y aceite</li>
                <li>Neumáticos</li>
              </ul>
            </div>

            <!-- PLUS -->
            <div class="pricing-card">
              <h3 class="plan-name plus">Plus</h3>
              <p class="plan-price">$49.99 <span>+ IVA / mes</span></p>
              <ul class="plan-features">
                <li>Hasta 5 usuarios</li>
                <li>Hasta 15 vehículos</li>
                <li>Hasta 5 flotas</li>
                <li>Exportación de reportes</li>
                <li>Consumo de combustible</li>
                <li>Mantenimiento preventivo y aceite</li>
                <li>Neumáticos</li>
              </ul>
            </div>

            <!-- PRO -->
            <div class="pricing-card">
              <h3 class="plan-name pro">Pro</h3>
              <p class="plan-price">$149.99 <span>+ IVA / mes</span></p>
              <ul class="plan-features">
                <li>Hasta 15 usuarios</li>
                <li>Hasta 50 vehículos</li>
                <li>Hasta 10 flotas</li>
                <li>Exportación de reportes</li>
                <li>Consumo de combustible</li>
                <li>Mantenimiento preventivo y aceite</li>
                <li>Neumáticos</li>
              </ul>
            </div>

            <!-- ENTERPRISE -->
            <div class="pricing-card">
              <h3 class="plan-name enterprise">Enterprise</h3>
              <p class="plan-price">$499.99 <span>+ IVA / mes</span></p>
              <ul class="plan-features">
                <li>Usuarios ilimitados</li>
                <li>Vehículos ilimitados</li>
                <li>Flotas ilimitadas</li>
                <li>Exportación de reportes</li>
                <li>Consumo de combustible</li>
                <li>Mantenimiento preventivo y aceite</li>
                <li>Neumáticos</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <section id="empieza" class="contact-cta full-screen-section">
        <div class="container">
          <h2>¿Listo para llevar sus vehículos al Máximo Rendimiento?</h2>
          <p>Descargue la app o empiece hoy mismo con la versión web.</p>
          <a
            href="https://pits-app.com/register"
            class="cta-main"
            target="_blank"
          >
            ¡Empieza Ahora!
          </a>

          <div class="store-buttons">
            <a
              href="https://apps.apple.com/ec/app/pits-m%C3%A1ximo-rendimiento/id6751339659"
              target="_blank"
            >
              <img
                src="./assets/appstore-button-en.png"
                alt="Descargar en App Store"
              />
            </a>
            <a
              href="https://play.google.com/store/apps/details?id=com.prestto.pits&pcampaignid=web_share"
              target="_blank"
            >
              <img
                src="./assets/playstore-button-en.png"
                alt="Descargar en Play Store"
              />
            </a>
          </div>
        </div>
      </section>

      <section id="contacto" class="animated-section full-screen-section">
        <div class="animated-content container">
          <div class="animated-text">
            <h2>
              ¿Desea más <strong class="accent-text">información</strong> ?
            </h2>
            <h3>Contáctenos hoy mismo.</h3>
            <p class="contact-email">info@pits-app.com</p>
            <a href="mailto:info@pits-app.com" class="cta-main"
              >Enviar Mensaje</a
            >
          </div>
        </div>
      </section>
    </main>

    <footer>
      <div class="container">
        <p>
          &copy; 2025 Pits | Máximo rendimiento. Todos los derechos reservados.
        </p>
      </div>
    </footer>

    <script>
      const heroBg = document.querySelector(".hero-bg");
      const heroLogo = document.querySelector(".hero-logo");
      const heroVisual = document.querySelector(".hero-visual");

      const menuToggle = document.querySelector(".menu-toggle");
      const navLinks = document.querySelector(".nav-links");
      const allLinks = document.querySelectorAll(".nav-links a");
      const featureCards = document.querySelectorAll(".feature-card"); // Selector para observer

      let isAnimating = false;
      let resizeTimer;
      const NAV_OFFSET = 85; // Correspondiente a --nav-offset

      // --- 1. Fix para Altura Real de Viewport (móviles) ---
      function setVhVariable() {
        let vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty("--vh", `${vh}px`);
      }
      setVhVariable();

      // --- 2. Funcionalidad de Videos (Reproducción automática) ---
      function initializeVideos() {
        const videos = document.querySelectorAll(
          ".solution-media video, .section-video-wrapper video"
        );
        videos.forEach((video) => {
          video.muted = true;
          video.playsinline = true;
          video.loop = true;

          const observer = new IntersectionObserver(
            (entries) => {
              entries.forEach((entry) => {
                if (entry.isIntersecting) {
                  video
                    .play()
                    .catch((e) => console.warn("Autoplay bloqueado.", e));
                } else {
                  video.pause();
                }
              });
            },
            { threshold: 0.2 }
          );

          observer.observe(video);
        });
      }

      // --- 3. Animación de Hero (Scroll Parallax/Fade) ---
      function animateHero() {
        if (!heroVisual) return;
        const rect = heroVisual.getBoundingClientRect();
        const viewHeight = window.innerHeight;

        let progress = 1 - rect.top / (viewHeight * 0.8);
        progress = Math.min(Math.max(progress, 0), 1);

        const translateY = 100 - progress * 100;
        heroBg.style.transform = `translateY(${translateY}px)`;
        heroBg.style.opacity = progress;

        const scale = 3 - progress * 2;
        heroLogo.style.transform = `translate(-50%, -50%) scale(${scale})`;
        heroLogo.style.opacity = progress;
      }

      // --- 4. FUNCIÓN MAESTRA DE ANIMACIÓN (Incluye Soluciones, Reportes, Plataforma, Móvil) ---
      function animateOnScroll() {
        animateHero(); // Animación del Hero

        const viewHeight = window.innerHeight;

        // --- A. Animación de Secciones Generales (Soluciones, Reportes, Plataforma, Movil, Caracteristicas) ---
        // Asume que los divs .solution-block y sections ahora tienen la clase .animated-section
        const sections = document.querySelectorAll(".animated-section");

        sections.forEach((section) => {
          const rect = section.getBoundingClientRect();

          // RANGO AMPLIADO: Asegura que el progreso llegue a 1 para hacer visibles todos los elementos
          const startPoint = viewHeight * 1.5;
          const endPoint = viewHeight * 0.1;
          let progress = (startPoint - rect.top) / (startPoint - endPoint);
          progress = Math.max(0, Math.min(1, progress));

          // Selectores para imágenes/videos y texto
          const leftEl = section.querySelector(".animate-left-img");
          const rightEl = section.querySelector(".animate-right-img");
          const text = section.querySelector(".animated-text");

          if (leftEl) {
            const translateX = -200 + progress * 200;
            leftEl.style.transform = `translateX(${translateX}px)`;
            leftEl.style.opacity = progress;
          }

          if (rightEl) {
            const translateX = 200 - progress * 200;
            rightEl.style.transform = `translateX(${translateX}px)`;
            rightEl.style.opacity = progress;
          }

          if (text) {
            const translateY = 150 - progress * 150;
            text.style.transform = `translateY(${translateY}px)`;
            text.style.opacity = progress;
          }
        });

        // --- B. Animación de Precios y Features ---
        const pricingSection = document.querySelector(".pricing-section");
        if (pricingSection) {
          const rect = pricingSection.getBoundingClientRect();

          const startPoint = viewHeight * 1.5;
          const endPoint = viewHeight * 0.1;
          let progress = (startPoint - rect.top) / (startPoint - endPoint);
          progress = Math.max(0, Math.min(1, progress));

          const easedProgress = Math.pow(progress, 2.5); // Para movimiento y opacidad
          const valueProgress = Math.pow(progress, 5); // Para el valor (efecto tardado)

          const prices = {
            free: 0,
            plus: 49.99,
            pro: 149.99,
            enterprise: 499.99,
          };

          document.querySelectorAll(".pricing-card").forEach((card) => {
            const planNameElement = card.querySelector(".plan-name");
            if (!planNameElement) return;

            const planClass = Object.keys(prices).find((p) =>
              planNameElement.classList.contains(p)
            );
            if (!planClass) return;

            const targetPrice = prices[planClass];
            const priceElement = card.querySelector(".plan-price");
            const features = card.querySelectorAll(".plan-features li");

            // 1. Animación del Precio
            if (priceElement) {
              const span = priceElement.querySelector("span");
              const spanText = span ? span.outerHTML : "";

              const currentPrice = (targetPrice * valueProgress).toFixed(2);
              priceElement.innerHTML = `$${currentPrice}${spanText}`;

              const priceMove = 10 * (1 - easedProgress);
              priceElement.style.transform = `translateY(${priceMove}px)`;
              priceElement.style.opacity = easedProgress;
            }

            // 2. Animación de Características (Aparición Secuencial)
            features.forEach((feature, index) => {
              const featureDelay = index * 0.1;
              const featureStart = 0.1 + featureDelay;
              const featureEnd = featureStart + 0.3;

              let featureProgress = 0;
              if (progress >= featureStart) {
                featureProgress =
                  (progress - featureStart) / (featureEnd - featureStart);
              }
              featureProgress = Math.min(1, featureProgress);

              const opacity = featureProgress;
              const translateY = 20 * (1 - featureProgress);

              feature.style.opacity = opacity;
              feature.style.transform = `translateY(${translateY}px)`;
            });
          });
        }
      }

      // --- 5. Animación de Títulos (Heading Observer) ---
      function initializeHeadingObserver() {
        const headings = document.querySelectorAll(
          ".section-heading, .section-subheading"
        );

        const observer = new IntersectionObserver(
          (entries, observer) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("heading-visible");
                observer.unobserve(entry.target);
              }
            });
          },
          {
            rootMargin: "0px",
            threshold: 0.1,
          }
        );

        headings.forEach((heading) => {
          if (!heading.closest(".hero-intro")) {
            observer.observe(heading);
          }
        });
      }

      // --- 6. Animación de Feature Cards (Observer para activar la clase 'visible') ---
      function initializeFeatureCardsObserver() {
        const observer = new IntersectionObserver(
          (entries, observer) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("visible");
                observer.unobserve(entry.target);
              }
            });
          },
          {
            rootMargin: "0px",
            threshold: 0.2,
          }
        );

        featureCards.forEach((card) => {
          observer.observe(card);
        });
      }

      // --- 7. Lógica de Scroll (Optimizado con requestAnimationFrame) ---
      function handleScroll() {
        if (!isAnimating) {
          isAnimating = true;
          requestAnimationFrame(() => {
            animateOnScroll();
            isAnimating = false;
          });
        }
      }

      // --- Gestión de Eventos ---
      window.addEventListener("scroll", handleScroll, { passive: true });

      window.addEventListener("resize", () => {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(() => {
          setVhVariable();
          animateOnScroll();
        }, 250);
      });

      window.addEventListener("load", () => {
        initializeVideos();
        initializeHeadingObserver();
        initializeFeatureCardsObserver();
        animateOnScroll();
      });

      // --- Funcionalidad del Menú Móvil (sin cambios) ---
      function toggleMenu() {
        const isOpen = navLinks.classList.toggle("open");
        document.body.style.overflow = isOpen ? "hidden" : "auto";
      }

      menuToggle.addEventListener("click", (e) => {
        e.stopPropagation();
        toggleMenu();
      });

      allLinks.forEach((link) => {
        link.addEventListener("click", (e) => {
          const href = link.getAttribute("href") || "";

          if (!href.startsWith("#")) {
            if (navLinks.classList.contains("open")) toggleMenu();
            return;
          }

          e.preventDefault();
          if (navLinks.classList.contains("open")) toggleMenu();

          const targetSection = document.querySelector(href);
          if (targetSection) {
            const offset =
              targetSection.getBoundingClientRect().top + window.scrollY;
            const finalPosition = href === "#inicio" ? 0 : offset - NAV_OFFSET;
            window.scrollTo({ top: finalPosition, behavior: "smooth" });
          }
        });
      });
    </script>
  </body>
</html>
